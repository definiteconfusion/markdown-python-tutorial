<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-06-18T18:49:09.394256"><title>Project Two | WeatherApp | Python</title><script type="application/json" id="virtual-toc-data">[{"id":"intro","level":0,"title":"Intro","anchor":"#intro"},{"id":"built-in-editor","level":0,"title":"Built in Editor","anchor":"#built-in-editor"},{"id":"directions","level":0,"title":"Directions","anchor":"#directions"},{"id":"step-one","level":0,"title":"Step One","anchor":"#step-one"},{"id":"step-two","level":0,"title":"Step Two","anchor":"#step-two"},{"id":"step-three","level":0,"title":"Step Three","anchor":"#step-three"},{"id":"side-note","level":0,"title":"Side Note","anchor":"#side-note"},{"id":"step-four","level":0,"title":"Step Four","anchor":"#step-four"},{"id":"step-five","level":0,"title":"Step Five","anchor":"#step-five"},{"id":"full-script","level":0,"title":"Full Script","anchor":"#full-script"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Project Two | WeatherApp | Python"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Python Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//1.1.0/project-two-weatherapp.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Project Two | WeatherApp | Python"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//1.1.0/project-two-weatherapp.html#webpage",
    "url": "writerside-documentation//1.1.0/project-two-weatherapp.html",
    "name": "Project Two | WeatherApp | Python",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Python Help"
}</script><!-- End Schema.org --></head><body data-id="Project-Two-WeatherApp" data-main-title="Project Two | WeatherApp" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Python 1.1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Project-Two-WeatherApp" id="Project-Two-WeatherApp.md">Project Two | WeatherApp</h1><section class="chapter"><h2 id="intro" data-toc="intro">Intro</h2><p id="-s9u44x_41">Unlike your first project, this project will make use of resources outside the confines of your own computer, this project will utilize the <a href="https://www.weatherapi.com/my/" id="-s9u44x_42" data-external="true" rel="noopener noreferrer">'weatherapi'</a> REST api. This allows us to get real-world statistics and information for our application to display.</p></section><section class="chapter"><h2 id="built-in-editor" data-toc="built-in-editor">Built in Editor</h2><p id="-s9u44x_43"><iframe src="https://trinket.io/embed/python3/19e7bc0dd7" width="100%" height="1000" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen></p></section><section class="chapter"><h2 id="directions" data-toc="directions">Directions</h2><p id="-s9u44x_44">This project's objective is to build a simple program to tell display weather statistics for the location requested by the user. Again we will use a function that you have yet to use. This function comes from Python's built in <code class="code" id="-s9u44x_45">requests</code> library. The function in question is the <code class="code" id="-s9u44x_46">get()</code> function, this allows us to go and 'get' the response from the requested server, in our case, weather data. This function takes a one traditional argument, this argument being the url of our destination server. <br> Example:</p><div class="code-block" data-lang="python">
import requests
response = requests.get('&lt;API_ENDPOINT&gt;')
data = response.json()
</div><p id="-s9u44x_49">This script imports the <code class="code" id="-s9u44x_50">requests</code> library, then utilizes the <code class="code" id="-s9u44x_51">get()</code> function to fetch its data, then it uses the <code class="code" id="-s9u44x_52">.json()</code> modifier to convert the fetched string into a usable dictionary format.</p></section><section class="chapter"><h2 id="step-one" data-toc="step-one">Step One</h2><p id="-s9u44x_53">Ok, first lets get our imports out of the way, for this project, the only library we'll need is the <code class="code" id="-s9u44x_54">requests</code> library.</p><div class="code-block" data-lang="python">
import requests
</div></section><section class="chapter"><h2 id="step-two" data-toc="step-two">Step Two</h2><p id="-s9u44x_56">Next, we'll create a quick function to handle our api connection, while this isn't strictly necessary, its still good practice for our use of functions. This api has a url that looks a little something like the one shown below, the <code class="code" id="-s9u44x_57">key</code> in this instance is the api required to gain server access(You can just use mine for this project: <code class="code" id="-s9u44x_58">d2f6acfaf746421c932161547232306</code>), and the <code class="code" id="-s9u44x_59">q</code> is our query. <br><code class="code" id="-s9u44x_61">https://api.weatherapi.com/v1/current.json?key=d2f6acfaf746421c932161547232306&amp;q=sloansville</code><br> See if you can create this function on your own before looking at mine, it should have a few things:</p><ol class="list _decimal" id="-s9u44x_63" type="1"><li class="list__item" id="-s9u44x_64"><p>Take the location endpoint as an input</p></li><li class="list__item" id="-s9u44x_65"><p>Contact the api's server and request the location taken from the function input</p></li><li class="list__item" id="-s9u44x_66"><p>Return the api's response in a dictionary type</p></li></ol><div class="code-block" data-lang="python">
 def apiHandler(location:str='NaN') -&gt; dict:
    response = requests.get(f&quot;https://api.weatherapi.com/v1/current.json?key=d2f6acfaf746421c932161547232306&amp;q={location}&quot;)
    data = response.json()
    return data
</div></section><section class="chapter"><h2 id="step-three" data-toc="step-three">Step Three</h2><p id="-s9u44x_68">Now we need to attain where the user is located, while we could use a separate api to gather their public facing ip address, then use a third api to gather their location based on that information, for now we're just going ask them where there. (I did explore the ip address location based route fully in the full script at the bottom if your curious.) Then we can use our api function to get the data from the user's location input.</p><div class="code-block" data-lang="python">
print(&quot;\n\n&quot;)
print(&quot;Hey, I'm Misty, the weather bot! ☀️&quot;)
locale = input(&quot;Where would you like to know about?:&quot;)
localeData = apiHandler(locale)
</div></section><section class="chapter"><h2 id="side-note" data-toc="side-note">Side Note</h2><p id="-s9u44x_70">You my notice that I added a <code class="code" id="-s9u44x_71">try</code> statement wrapper to `localeData[&quot;error&quot;]. This is because, when using this api, if an error is encountered within the server, it returns an error code that can be used for debugging. So if I to get the value of the error, when in fact the server has returned a perfectly valid response, our code will throw an error, the except allows the script to run as normal, whereas, if our code doesn't throw an error, because our request was in fact faulty somehow, the code within the try statement will function as a stopgap for errors.</p></section><section class="chapter"><h2 id="step-four" data-toc="step-four">Step Four</h2><p id="-s9u44x_72">Now we have come to the place where we need to decide what the user most likely wants. A user is probably just looking for a quick reference point for the weather near their house, so we are going to give the user a few data points that make the most sense, the temperature, the conditions, and the wind speed.</p><div class="code-block" data-lang="python">
print(&quot;\n\n&quot;)
    print(f&quot;Here are the basics in {localeData['location']['name']}:&quot;)
    print(&quot;Temperature&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;temp_f&quot;]).ljust(15, ' '))
    print(&quot;Conditions&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;condition&quot;][&quot;text&quot;]).ljust(15, ' '))
    print(&quot;Wind Speed&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;wind_mph&quot;]).ljust(15, ' '))
    print(&quot;\n\n&quot;)
</div></section><section class="chapter"><h2 id="step-five" data-toc="step-five">Step Five</h2><p id="-s9u44x_74">Now, if the user would like more information, we have plenty more, but rather than us manually printing each one and labeling it ourselves, we can let the computer figure that all out by looping through the data and printing each data's label, next to the data.</p><div class="code-block" data-lang="python">
if &quot;y&quot; in input(&quot;Would you like more?: &quot;):
        print(&quot;\n&quot;)
        for key in localeData[&quot;current&quot;]:
            print(key.ljust(15, ' ') + str(localeData[&quot;current&quot;][key]).ljust(15, ' '))
    else:
        print(&quot;Alrighty then... have a blessed day, goodbye 👋&quot;)
</div></section><section class="chapter"><h2 id="full-script" data-toc="full-script">Full Script</h2><p id="-s9u44x_76">This represents a template for you to compare your script to, yours doesn't need to look exactly like mine, (That's one of the great things about programming) but if you have trouble, there is of course no shame in copying and pasting. (Half of my day is simply ⌘C + ⌘V)</p><div class="code-block" data-lang="python">
import requests

def apiHandler(location:str='NaN') -&gt; dict:
    response = requests.get(f&quot;https://api.weatherapi.com/v1/current.json?key=d2f6acfaf746421c932161547232306&amp;q={location}&quot;)
    data = response.json()
    return data
print(&quot;\n\n&quot;)
print(&quot;Hey, I'm Misty, the weather bot! ☀️&quot;)
locale = input(&quot;Where would you like to know about?:&quot;)
localeData = apiHandler(locale)
try:
    localeData[&quot;error&quot;]
    print(&quot;I'm sorry, there was a server error, try again in a few moments with a different location&quot;)
except:
    print(&quot;\n\n&quot;)
    print(f&quot;Here are the basics in {localeData['location']['name']}:&quot;)
    print(&quot;Temperature&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;temp_f&quot;]).ljust(15, ' '))
    print(&quot;Conditions&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;condition&quot;][&quot;text&quot;]).ljust(15, ' '))
    print(&quot;Wind Speed&quot;.ljust(15, ' ') + str(localeData[&quot;current&quot;][&quot;wind_mph&quot;]).ljust(15, ' '))
    print(&quot;\n\n&quot;)
    if &quot;y&quot; in input(&quot;Would you like more?: &quot;):
        print(&quot;\n&quot;)
        for key in localeData[&quot;current&quot;]:
            print(key.ljust(15, ' ') + str(localeData[&quot;current&quot;][key]).ljust(15, ' '))
    else:
        print(&quot;Alrighty then... have a blessed day, goodbye 👋&quot;)
</div></section><div class="last-modified">Last modified: 18 June 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="project-one.html" class="navigation-links__prev">Project One | Jokebot</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b267/app.js"></script></body></html>